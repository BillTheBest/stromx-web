<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>stromx-web</title>
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-v1.1.2.js"></script>
  <script src="js/libs/bootstrap.js"></script>
  <script src="js/libs/ember.js"></script>
  <script src="js/libs/ember-data.js"></script>
  <script src="js/libs/snap.svg.js"></script>
  <script src="js/application.js"></script>
  <script src="js/router.js"></script>
  <script src="js/controllers/error_controller.js"></script>
  <script src="js/controllers/file_controller.js"></script>
  <script src="js/controllers/filesAdd_controller.js"></script>
  <script src="js/controllers/stream_controller.js"></script>
  <script src="js/models/store.js"></script>
  <script src="js/models/model.js"></script>
  <script src="js/views/upload_file.js"></script>
  
  <script type="text/x-handlebars" data-template-name="files">
    <div class="container">
      {{outlet}}

      {{#if length}}
      <div class="well">
        {{#each itemController="error"}}
          <p>{{time}}: {{description}}</p>
        {{/each}}
      </div>
      {{/if}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="files/index">
    <h1>Files</h1>
    <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-8">
    <ul class="list-group" id="file-list">
      {{#each itemController="file"}}
        <li class="list-group-item">
          {{name}}
          {{#each stream}}
            {{#link-to 'stream' this class="pull-right"}}Show{{/link-to}}
          {{/each}}
          {{#if closed}}
            <span class="pull-right">
            <a {{action "open"}}>Open</a>
            <a {{action "remove"}}>Remove</a>
            </span>
          {{/if}}
        </li>
      {{/each}}
    </ul>
    </div>
    <div class="col-sm-2"></div>
    </div>
    
    {{outlet}}
  </script>

  <script type="text/x-handlebars" data-template-name="files/add">
    File: {{view App.UploadFile valueBinding="name" content=content}}
    <button {{action 'addFile'}}>Save</button>
  </script>

  <script type="text/x-handlebars" data-template-name="stream">
    <h1>{{name}}</h1>
    <p id="stream-buttons">
    {{#if paused}}
      <a {{action "resume"}}>Resume</a>
    {{/if}}
    {{#if active}}
      <button {{action "stop"}} class="btn btn-default">Stop</button>
      <button {{action "pause"}} class="btn btn-default">Pause</button>
    {{else}}
      <button {{action "close"}} class="btn btn-default">Close</button>
      <button {{action "start"}} class="btn btn-default">Start</button>
    {{/if}}
    </p>
  </script>
</body>
</html>
